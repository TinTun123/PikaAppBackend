import{j as s,W as g,r as h}from"./app-fd86d18c.js";import{M as j}from"./Modal-402cc240.js";import{I as n}from"./Input-34f71858.js";import{B as v}from"./Button-7cbf0b8a.js";import{T as p}from"./Textarea-4ef7cfba.js";import{I as b}from"./ImageUploader-179422c7.js";const C=({message:a})=>s.jsx("span",{className:"text-rose-500",children:a}),y=({label:a,id:t,children:c,error:i,onChange:e,containerClass:o,className:m})=>s.jsxs("div",{className:`block ${o}`,children:[a&&s.jsx("span",{className:"block mb-2 text-md font-medium ",children:a}),s.jsx("select",{id:t,onChange:e,className:"block w-full h-full px-3 py-2.5 focus:ring-4 focus:ring-opacity-20 focus:ring-primary border-[.1px] border-primary rounded-sm  mt-1 text-sm form-select  "+m,children:c}),i&&s.jsx(C,{message:i})]}),k=({show:a,current:t,setFormOpen:c,categories:i})=>{const{data:e,setData:o,processing:m,errors:l,post:x}=g(),f=r=>{r.preventDefault();let u=t?route("audio.update",t.id):route("audio.store");x(u,{onSuccess:()=>{}})};h.useEffect(()=>{o(t||{})},[t]);const d=r=>{o(u=>({...u,image:r}))};return s.jsx(j,{show:a,onClose:()=>c(!1),children:s.jsxs("form",{onSubmit:f,className:"col-span-2 flex flex-col gap-3",children:[s.jsx(b,{handleUpload:d,data:e,setData:o,error:l.image}),s.jsx(n,{value:(e==null?void 0:e.title)??"",error:l.title,onChange:r=>o("title",r.target.value),label:"Title"}),s.jsx(n,{value:(e==null?void 0:e.time)??"",error:l.time,onChange:r=>o("time",r.target.value),label:"Time"}),s.jsx(n,{value:(e==null?void 0:e.price)??"",error:l.price,onChange:r=>o("price",r.target.value),label:"Price"}),s.jsx(n,{value:(e==null?void 0:e.file)??"",error:l.file,onChange:r=>o("file",r.target.value),label:"File"}),s.jsxs(y,{error:l.category_id,onChange:r=>o("category_id",r.target.value),children:[s.jsx("option",{value:"",children:"--- select ---"}),i.map(r=>s.jsx("option",{value:r.id,children:r.name},r.id))]}),s.jsx(p,{error:l.description,rows:4,value:(e==null?void 0:e.description)??"",label:"Description",onChange:r=>o("description",r.target.value)}),s.jsx(p,{error:l.author,rows:4,value:(e==null?void 0:e.author)??"",label:"author",onChange:r=>o("author",r.target.value)}),s.jsx("div",{className:"flex justify-end",children:s.jsx(v,{type:"submit",className:"w-[200px]",loading:m,children:"Save"})})]})})};export{k as default};
