import{r as t,W as D,j as e,C as S,B as n,n as k,A as I,m as B,a as j}from"./app-bf4b4a66.js";import{T as E,a as F,b as a}from"./TableData-1ff948ab.js";import A from"./Form-5ddbf2b4.js";import{D as l}from"./Dropdown-8aa9dd11.js";import"./Input-66bf8bd1.js";import"./ImageUploader-2cc5dd73.js";import"./Checkbox-a4887038.js";const M=[{field:"ID"},{field:"type"},{field:"published"},{field:"Actions"}],W=({testimonials:d,course:f})=>{const[b,i]=t.useState(!1),{post:g,delete:y}=D({}),[r,v]=t.useState(!1),[c,p]=t.useState({}),[w,o]=t.useState(!1),[N,x]=t.useState("create"),C=()=>{i(!0),x("create")},h=s=>{g(route("testimonial.toggle.publish",s),{preserveScroll:!0})},m=s=>{p(s),i(!0),x("edit")},u=s=>{p(s),o(!0)},T=()=>{y(route("testimonial.destroy",c.id),{onSuccess:()=>o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(S,{onCancel:()=>o(!1),onConfirm:T,show:w}),e.jsx(A,{type:N,showForm:b,course:f,selectedTestimonial:c,setShowForm:i}),e.jsxs("div",{className:"flex justify-between ",children:[e.jsx(n,{className:"!px-5",onClick:()=>C(),children:"Create Testimonial"}),e.jsx("button",{onClick:()=>v(!r),className:"p-2 bg-gray-200 text-xl",children:e.jsx(k,{})})]}),e.jsx(I,{children:e.jsxs(B.div,{layout:!0,initial:{height:"0px"},animate:{height:"auto"},exit:{height:"0px"},transition:{duration:.1},children:[r&&e.jsx(E,{columns:M,children:d.map(s=>e.jsxs(F,{children:[e.jsx(a,{children:s.id}),e.jsx(a,{children:s.type}),e.jsx(a,{children:e.jsx(n,{className:"w-[120px] px-2",onClick:()=>h(s.id),children:s.published?"Unpublished":"Publish"})}),e.jsx(a,{children:e.jsxs(l,{label:"",renderTrigger:()=>e.jsx("div",{className:"cursor-pointer",children:e.jsx(j,{})}),children:[e.jsx(l.Item,{onClick:()=>m(s),children:"Edit"}),e.jsx(l.Item,{onClick:()=>u(s),children:"Delete"})]})})]},s.id))}),!r&&e.jsx("div",{className:"grid grid-cols-1 mt-3 lg:grid-cols-3 gap-3 ",children:d.map(s=>e.jsxs("div",{className:"border border-dashed border-gray-300 flex flex-col gap-3 justify-between max-h-[330px] p-3",children:[s.type==="video"&&e.jsx("div",{className:"relative aspect-video ",children:e.jsx("iframe",{src:`https://player.vimeo.com/video/${s.file}?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",className:"w-full h-full"})}),s.type==="photo"&&e.jsx("img",{className:"h-[190px] w-full object-cover",src:s.file,alt:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(n,{className:"w-[120px] px-2",onClick:()=>h(s.id),children:s.published?"Unpublished":"Publish"}),e.jsxs(l,{className:"bg-white",label:"",renderTrigger:()=>e.jsx("div",{className:"cursor-pointer",children:e.jsx(j,{})}),children:[e.jsx(l.Item,{onClick:()=>m(s),children:"Edit"}),e.jsx(l.Item,{onClick:()=>u(s),children:"Delete"})]})]})]},s.id))})]})})]})};export{W as default};
