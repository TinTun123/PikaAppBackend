import{W as g,r as m,j as i}from"./app-ca5fa7a3.js";import{M as j}from"./Modal-6485ae4e.js";import{I as a}from"./Input-3363913e.js";import{B as h}from"./Button-eb39e5b5.js";import{T as C}from"./Textarea-355e7762.js";const y=({showForm:u,setShowForm:s,lesson:t,latestLessonNumber:n,courseId:c,moduleId:p})=>{const{data:e,setData:o,errors:l,post:f,clearErrors:b,processing:v}=g(t??{course_id:c,module_id:p,number:n+1});m.useEffect(()=>{t!=null&&t.title&&o(t)},[t]);const x=r=>{r.preventDefault();let d=t?route("lessons.update",t.id):route("lessons.store");f(d,{preserveScroll:!0,onSuccess:()=>{s(!1)}})};return m.useEffect(()=>{u||b(),t||o(r=>({...r,title:"",description:"",number:n+1,video:""}))},[u]),i.jsx(j,{show:u,onClose:()=>s(!1),children:i.jsxs("form",{onSubmit:x,className:"flex flex-col gap-3",children:[i.jsx(a,{value:(e==null?void 0:e.title)??"",onChange:r=>o("title",r.target.value),label:"Title",error:l.title}),i.jsx(a,{value:(e==null?void 0:e.video)??"",onChange:r=>o("video",r.target.value),label:"Vimeo ID",error:l.video}),i.jsx(a,{type:"number",value:(e==null?void 0:e.number)??"",onChange:r=>o("number",r.target.value),label:"Number",error:l.number}),i.jsx(C,{error:l.description,rows:4,value:(e==null?void 0:e.description)??"",label:"Description",onChange:r=>o("description",r.target.value)}),i.jsx(h,{loading:v,type:"submit",children:"Submit"})]})})};export{y as default};
