import{r as t,W as D,j as e,i as S,B as j}from"./app-fed2a0d1.js";import{B as n,A as k,m as B}from"./Button-f318903a.js";import{T as I,a as E,b as i}from"./TableData-56e7006a.js";import F from"./Form-780d31d2.js";import{C as A}from"./ConfirmModal-c156a444.js";import{D as l}from"./Dropdown-030447f3.js";import"./Modal-7d9c6350.js";import"./Input-e0a25325.js";import"./ImageUploader-f175f896.js";import"./Checkbox-139dbaaa.js";const M=[{field:"ID"},{field:"type"},{field:"published"},{field:"Actions"}],z=({testimonials:d,course:f})=>{const[b,r]=t.useState(!1),{post:g,delete:y}=D({}),[a,v]=t.useState(!1),[c,p]=t.useState({}),[w,o]=t.useState(!1),[N,x]=t.useState("create"),C=()=>{r(!0),x("create")},h=s=>{g(route("testimonial.toggle.publish",s),{preserveScroll:!0})},m=s=>{p(s),r(!0),x("edit")},u=s=>{p(s),o(!0)},T=()=>{y(route("testimonial.destroy",c.id),{onSuccess:()=>o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(A,{onCancel:()=>o(!1),onConfirm:T,show:w}),e.jsx(F,{type:N,showForm:b,course:f,selectedTestimonial:c,setShowForm:r}),e.jsxs("div",{className:"flex justify-between ",children:[e.jsx(n,{className:"!px-5",onClick:()=>C(),children:"Create Testimonial"}),e.jsx("button",{onClick:()=>v(!a),className:"p-2 bg-gray-200 text-xl",children:e.jsx(S,{})})]}),e.jsx(k,{children:e.jsxs(B.div,{layout:!0,initial:{height:"0px"},animate:{height:"auto"},exit:{height:"0px"},transition:{duration:.1},children:[a&&e.jsx(I,{columns:M,children:d.map(s=>e.jsxs(E,{children:[e.jsx(i,{children:s.id}),e.jsx(i,{children:s.type}),e.jsx(i,{children:e.jsx(n,{className:"w-[120px] px-2",onClick:()=>h(s.id),children:s.published?"Unpublished":"Publish"})}),e.jsx(i,{children:e.jsxs(l,{label:"",renderTrigger:()=>e.jsx("div",{className:"cursor-pointer",children:e.jsx(j,{})}),children:[e.jsx(l.Item,{onClick:()=>m(s),children:"Edit"}),e.jsx(l.Item,{onClick:()=>u(s),children:"Delete"})]})})]},s.id))}),!a&&e.jsx("div",{className:"grid grid-cols-1 mt-3 lg:grid-cols-3 gap-3 ",children:d.map(s=>e.jsxs("div",{className:"border border-dashed border-gray-300 flex flex-col gap-3 justify-between max-h-[330px] p-3",children:[s.type==="video"&&e.jsx("div",{className:"relative aspect-video ",children:e.jsx("iframe",{src:`https://player.vimeo.com/video/${s.file}?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",className:"w-full h-full"})}),s.type==="photo"&&e.jsx("img",{className:"h-[190px] w-full object-cover",src:s.file,alt:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(n,{className:"w-[120px] px-2",onClick:()=>h(s.id),children:s.published?"Unpublished":"Publish"}),e.jsxs(l,{className:"bg-white",label:"",renderTrigger:()=>e.jsx("div",{className:"cursor-pointer",children:e.jsx(j,{})}),children:[e.jsx(l.Item,{onClick:()=>m(s),children:"Edit"}),e.jsx(l.Item,{onClick:()=>u(s),children:"Delete"})]})]})]},s.id))})]})})]})};export{z as default};
