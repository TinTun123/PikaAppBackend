import{W as b,r as n,j as l}from"./app-fd86d18c.js";import{M as v}from"./Modal-402cc240.js";import{I as a}from"./Input-34f71858.js";import{B as g}from"./Button-7cbf0b8a.js";import{T as j}from"./Textarea-4ef7cfba.js";import"./Tooltip-959f8c39.js";const T=({showForm:u,setShowForm:m,lesson:t,latestLessonNumber:p,courseId:i})=>{const{data:e,setData:o,errors:s,post:c}=b(t??{});n.useEffect(()=>{o(t)},[t]);const f=r=>{r.preventDefault();let x=t?route("lessons.update",t.id):route("lessons.store");c(x,{preserveScroll:!0,onSuccess:()=>{m(!1)}})};return n.useEffect(()=>{console.log(p),u&&!t&&o({number:p+1,course_id:i})},[u,t]),n.useEffect(()=>{console.log(i),o(r=>({...r,course_id:i}))},[i]),l.jsx(v,{show:u,onClose:()=>m(!1),children:l.jsxs("form",{onSubmit:f,className:"flex flex-col gap-3",children:[l.jsx(a,{value:(e==null?void 0:e.title)??"",onChange:r=>o("title",r.target.value),label:"Title",error:s.title}),l.jsx(a,{value:(e==null?void 0:e.video)??"",onChange:r=>o("video",r.target.value),label:"Vimeo ID",error:s.video}),l.jsx(a,{type:"number",value:(e==null?void 0:e.number)??"",onChange:r=>o("number",r.target.value),label:"Number",error:s.number}),l.jsx(j,{error:s.description,rows:4,value:(e==null?void 0:e.description)??"",label:"Description",onChange:r=>o("description",r.target.value)}),l.jsx(g,{type:"submit",children:"Submit"})]})})};export{T as default};
