import{r as t,W as D,j as e,e as S,B as j}from"./app-9d0c5c84.js";import{B as n,A as k,m as B}from"./Button-ffaf121f.js";import{T as I,a as E,b as i}from"./TableRow-24c26f81.js";import F from"./Form-5a63f52b.js";import{D as l}from"./Tooltip-44b82b50.js";import{C as A}from"./ConfirmModal-e077266b.js";import"./Modal-4f9b7b0c.js";import"./Input-d810557f.js";import"./ImageUploader-c5322701.js";const M=[{field:"ID"},{field:"type"},{field:"published"},{field:"Actions"}],q=({testimonials:d,course:f})=>{const[b,r]=t.useState(!1),{post:g,delete:y}=D({}),[a,w]=t.useState(!1),[c,p]=t.useState({}),[N,o]=t.useState(!1),[v,h]=t.useState("create"),C=()=>{r(!0),h("create")},x=s=>{g(route("testimonial.toggle.publish",s),{preserveScroll:!0})},m=s=>{p(s),r(!0),h("edit")},u=s=>{p(s),o(!0)},T=()=>{y(route("testimonial.destroy",c.id),{onSuccess:()=>o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(A,{onCancel:()=>o(!1),onConfirm:T,show:N}),e.jsx(F,{type:v,showForm:b,course:f,selectedTestimonial:c,setShowForm:r}),e.jsxs("div",{className:"flex justify-between ",children:[e.jsx(n,{onClick:()=>C(),children:"Create Testimonial"}),e.jsx("button",{onClick:()=>w(!a),className:"p-2 bg-gray-200 text-xl",children:e.jsx(S,{})})]}),e.jsx(k,{children:e.jsxs(B.div,{layout:!0,initial:{height:"0px"},animate:{height:"auto"},exit:{height:"0px"},transition:{duration:.1},children:[a&&e.jsx(I,{columns:M,children:d.map(s=>e.jsxs(E,{children:[e.jsx(i,{children:s.id}),e.jsx(i,{children:s.type}),e.jsx(i,{children:e.jsx(n,{className:"w-[120px] px-2",onClick:()=>x(s.id),children:s.published?"Unpublished":"Publish"})}),e.jsx(i,{children:e.jsxs(l,{className:"bg-white",label:"",renderTrigger:()=>e.jsx("div",{className:"cursor-pointer",children:e.jsx(j,{})}),children:[e.jsx(l.Item,{onClick:()=>m(s),children:"Edit"}),e.jsx(l.Item,{onClick:()=>u(s),children:"Delete"})]})})]},s.id))}),!a&&e.jsx("div",{className:"grid grid-cols-1 mt-3 lg:grid-cols-3 gap-3 ",children:d.map(s=>e.jsxs("div",{className:"border border-dashed border-gray-300 flex flex-col justify-around h-[340px] p-3",children:[s.type==="video"&&e.jsx("div",{className:"relative p-24",children:e.jsx("iframe",{src:`https://player.vimeo.com/video/${s.file}?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",className:"absolute top-0 left-0 w-full h-full"})}),s.type==="photo"&&e.jsx("img",{className:"h-[190px] w-full object-cover",src:s.file,alt:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(n,{className:"w-[120px] px-2",onClick:()=>x(s.id),children:s.published?"Unpublished":"Publish"}),e.jsxs(l,{className:"bg-white",label:"",renderTrigger:()=>e.jsx("div",{className:"cursor-pointer",children:e.jsx(j,{})}),children:[e.jsx(l.Item,{onClick:()=>m(s),children:"Edit"}),e.jsx(l.Item,{onClick:()=>u(s),children:"Delete"})]})]})]}))})]})})]})};export{q as default};
