import{j as e,W as b,r as h}from"./app-6a54aa77.js";import{M as x}from"./Modal-9376f476.js";import{I as j}from"./Input-8e9be8be.js";import{I as v}from"./ImageUploader-b979c7fb.js";import{B as g}from"./Button-b247fbc3.js";const y=({id:t,label:a,...i})=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative flex items-center rounded-full cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"before:content[''] peer relative h-5 w-5 cursor-pointer appearance-none rounded-md border border-blue-gray-200 transition-all before:absolute before:top-2/4 before:left-2/4 before:block before:h-12 before:w-12 before:-translate-y-2/4 before:-translate-x-2/4 before:rounded-full before:bg-blue-gray-500 before:opacity-0 before:transition-opacity checked:border-primary checked:bg-primary checked:before:bg-primary over:before:opacity-10",id:t,...i}),e.jsx("span",{className:"absolute text-white transition-opacity opacity-0 pointer-events-none top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 peer-checked:opacity-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),e.jsx("label",{htmlFor:t,className:"ml-2",children:a})]}),S=({course:t,showForm:a,setShowForm:i,selectedTestimonial:n,type:c})=>{const{data:o,setData:l,errors:d,processing:p,post:f}=b({course_id:t.id,published:!0}),m=r=>{l(s=>({...s,file:r}))};h.useEffect(()=>{n.id&&l(n)},[a,n]);const u=r=>{r.preventDefault();let s=c==="create"?route("testimonial.store"):route("testimonial.update",n.id);f(s,{preserveScroll:!0,onSuccess:()=>i(!1)})};return e.jsx(x,{onClose:()=>i(!1),show:a,children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"font-medium",children:"Type"}),e.jsx("div",{className:"flex items-center gap-3",children:["video","photo"].map(r=>e.jsxs("div",{onClick:()=>l(s=>({...s,type:r,file:null})),className:`w-full cursor-pointer border transition-all text-center p-2 ${r===o.type?"border border-primary":""}`,children:[" ",r," "]},r))})]}),o.type==="video"&&e.jsx(j,{value:(o==null?void 0:o.file)??"",label:"Vimeo ID",onChange:r=>l("file",r.target.value)}),o.type==="photo"&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"font-medium",children:"Photo"}),e.jsx(v,{handleUpload:m,data:{image:o==null?void 0:o.file},setData:l,error:d.image})]}),e.jsx(y,{checked:o.published,onChange:r=>l("published",r.target.checked),id:"published",label:"Published"})]}),e.jsx(g,{type:"submit",loading:p,className:"w-full mt-5",children:"Submit"})]})})};export{S as default};
